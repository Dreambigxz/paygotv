<app-spinner></app-spinner>
<app-menu-bottom></app-menu-bottom>

<div class="body-overlay"></div>

<div class="page page--medical" data-page="intro-metro">


	<header class="mobile-header">

  <div  class="logo"><img style='width:40%' src="assets/logo.png" alt=""></div>

	<button (click)="quickNav.go('/notification')" mat-icon-button aria-label="Notifications" class="icon-btn" translate='no'>
		<mat-icon class="{{quickNav.storeData.store['totalNotUnread']?'ringing':''}}">notifications</mat-icon>
		<span class="badge">{{ quickNav.storeData.store['unreadNotification'] }}</span>
	</button>

	<button mat-icon-button aria-label="Logout" class="icon-btn" (click)="quickNav.authService.logout(false)">
    <mat-icon>logout</mat-icon>
  </button>

</header>

	<!-- PAGE CONTENT -->
	<div *ngIf="quickNav.storeData.store as data" class="page__content page__content--with-header">

			<div  class="user-welcome mb-10">
				<div class="x-flex">
					<span>
						Hello, <strong> {{data['username']}}</strong>
					</span>

					<span translate='no' *ngIf="data['wallet']">
						{{data['wallet']['init_currency'].symbol}}
						<span style="font-weight:500">{{data['wallet'].balance.new|number}}</span>
					</span>

				</div>

	    </div>
				<div class="slider-container mb-20">
					  <div class="slider">
					    <img [src]="images[currentIndex]" alt="Slide image" />
					  </div>
					</div>

					<div class="icon-grid">
			      <div class="icon-item" (click)="router.navigate(['wallet', 'deposit'])">
			        <div class="icon-circle deposit"><i class="fas fa-wallet"></i></div>
			        <div class="label">Deposit</div>
			      </div>
			      <div class="icon-item" (click)="router.navigate(['wallet', 'withdraw'])">
			        <div class="icon-circle withdraw"><i class="fas fa-hand-holding-usd"></i></div>
			        <div class="label">Withdraw</div>
			      </div>
			      <!-- <div class="icon-item" (click)="router.navigate(['vip'])">
			        <div class="icon-circle vip"><i class="fas fa-exchange-alt"></i></div>
			        <div class="label">VIP</div>
			      </div> -->
			      <div class="icon-item" (click)="router.navigate(['wallet', 'transaction'])">
			        <div class="icon-circle transactions"><i class="fas fa-exchange-alt"></i></div>
			        <div class="label">Transactions</div>
			      </div>
			      <!-- <div class="icon-item" (click)="router.navigate(['vip'])">
			        <div class="icon-circle gift"><i class="fas fa-gift"></i></div>
			        <div class="label">Rewards</div>
			      </div> -->
			      <div class="icon-item" target="_blank" rel="noopener noreferrer">
			        <div class="icon-circle help"><i class="fas fa-question-circle"></i></div>
			        <div class="label">Help</div>
			      </div>
			      <div class="icon-item"  target="_blank" rel="noopener noreferrer">
			        <div class="icon-circle telegram"><i class="fab fa-telegram-plane"></i></div>
			        <div class="label">Channel</div>
			      </div>
			      <div class="icon-item"  target="_blank" rel="noopener noreferrer">
			        <div class="icon-circle discussion"><i class="fas fa-users"></i></div>
			        <div class="label">Discussion</div>
			      </div>
			      <div
			        class="icon-item"

			      >
			        <div class="icon-circle app"><i class="fas fa-mobile-alt"></i></div>
			        <div class="label">App</div>
			      </div>
			      <!-- <div class="icon-item" (click)="authService.logout(false)">
			        <div class="icon-circle logout"><i class="fas fa-power-off"></i></div>
			        <div class="label">Logout</div>
			      </div> -->
			    </div>

				<div class="investment-wrap">
					  <header class="header">
					    <h1>Investment Channels</h1>
					    <p class="sub">Choose a plan that suits you — amounts shown in Nigerian Naira (₦)</p>
					  </header>

					<ul class="channel-list">
					  <li
					    class="channel-card"
					    *ngFor="let c of channels"
					    (click)="openModal(c)"
					    role="button"
					    tabindex="0"
					    (keydown.enter)="openModal(c)"
					  >
					    <div class="card-left">
					      <!-- <div class="badge">#{{ c.id }}</div> -->
					      <div class="title">{{ c.title }}</div>
					      <div class="muted">Cycle: {{ c.cycleDays }} days</div>
					    </div>

					    <div class="card-right">
					      <div class="row">
					        <div class="label">Invest</div>
					        <div class="value invest">{{ fx(c.invest) }}</div>
					      </div>

					      <div class="row">
					        <div class="label">Daily</div>
					        <div class="value daily">{{ fx(c.daily) }}</div>
					      </div>

					      <div class="row total-row">
					        <div class="label">Total</div>
					        <div class="value total">{{ fx(c.total) }}</div>
					      </div>
					    </div>
					  </li>
					</ul>
				</div>

				<div (click)="GiftBoxOpen=true" class="gift-sidebar">
				  <i class="fa fa-gift"></i>
				  <span>Gift Code</span>
				</div>


	<!-- Modal (slide-up from bottom) -->
	<div class="modal-backdrop" *ngIf="modalOpen||GiftBoxOpen" (click)="closeModal()"></div>

		<div
		  class="modal-sheet"
		  [class.show]="selectedChannel"
		  *ngIf="selectedChannel"
		>
		  <h2>{{ selectedChannel.name }}</h2>

		  <p><strong>Investment:</strong> ₦{{ selectedChannel.invest }}</p>
		  <p><strong>Daily Earnings:</strong> ₦{{ selectedChannel.daily }}</p>
		  <p><strong>Cycle:</strong> {{ selectedChannel.cycleDays }} days</p>
		  <p><strong>Total Return:</strong> ₦{{ selectedChannel.total }}</p>

			<div class="modal-actions">
	      <button (click)="investNow()" class="primary-btn">Invest</button>
	      <button class="ghost-btn" (click)="closeModal()">Cancel</button>
	    </div>
		</div>


		<!-- load gift code modal -->
		<div
		  class="modal-sheet"
		  [class.show]="GiftBoxOpen"
		  *ngIf="GiftBoxOpen"
		>

			<h2>Load Gift Code</h2>

			<form >
				<div class="form">
						<div class="form__row">
							<input [(ngModel)]='giftCode' type="number" name="amount" value="" class="form__input required" placeholder="Code" required>
						</div>
				</div>
			</form>

			<div class="modal-actions">
	      <button (click)="loadGiftCode()"  class="primary-btn">Load</button>
	      <button class="ghost-btn" (click)="closeModal()">Cancel</button>
	    </div>
		</div>


	</div>



</div>
